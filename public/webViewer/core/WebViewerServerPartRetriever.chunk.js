/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[17],{395:function(Ca,ua,r){function pa(){return!1}function ja(x,z,ha){if(!(z in f))return!0;z=f[z];for(var la=0;la<z.length;la++){var aa=x;var ca=z[la];var ia=ha;if(ca.name in aa){var ea="",ma=!1;aa=aa[ca.name];switch(ca.type){case "s":ea="String";ma=Object(fa.isString)(aa);break;case "a":ea="Array";ma=Object(fa.isArray)(aa);break;case "n":ea="Number";ma=Object(fa.isNumber)(aa)&&Object(fa.isFinite)(aa);break;case "o":ea="Object",
ma=Object(fa.isObject)(aa)&&!Object(fa.isArray)(aa)}ma||ia.reject('Expected response field "'+ca.name+'" to have type '+ea);ca=ma}else ia.reject('Response missing field "'+ca.name+'"'),ca=!1;if(!ca)return!1}return!0}r.r(ua);var ka=r(1),fa=r(0);r.n(fa);var da=r(2);Ca=r(48);var ba=r(32),w=r(414),y=r(84),h=r(316),e=r(38),a=r(142),b=function(){function x(){this.request=this.result=null;this.state=0;var z=this;z.promise=new Promise(function(ha,la){z.resolve=function(){if(0===z.state||4===z.state)z.state=
1,z.result=arguments[0],ha.apply(null,arguments)};z.reject=function(){if(0===z.state||4===z.state)z.state=2,la.apply(null,arguments)}})}x.prototype.Sq=function(){return 1===(this.state&1)};x.prototype.K7=function(){return 2===(this.state&2)};x.prototype.Nh=function(){return!this.K7()&&!this.Sq()};x.prototype.l7=function(){return 4===(this.state&4)};x.prototype.LH=function(){this.state|=4};return x}(),n=function(){function x(){this.Fq={};this.sb=[]}x.prototype.pop=function(){var z=this.sb.pop();this.Fq[z.key]=
void 0;return z};x.prototype.push=function(z,ha){ha={key:z,data:ha};this.sb.push(ha);this.Fq[z]=ha.data};x.prototype.contains=function(z){return!!this.Fq[z]};x.prototype.get=function(z){return this.Fq[z]};x.prototype.set=function(z,ha){var la=this;this.Fq[z]=ha;this.sb.forEach(function(aa,ca){aa.key===z&&(la.sb[ca]=aa)})};x.prototype.remove=function(z){var ha=this;this.Fq[z]=void 0;this.sb.forEach(function(la,aa){la.key===z&&ha.sb.splice(aa,1)})};x.prototype.length=function(){return this.sb.length};
return x}(),f={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],cAnnots:[{name:"annots",type:"a"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],ApString2Xod:[{name:"url",type:"s"},
{name:"rID",type:"s"}]};r=function(){function x(z,ha,la){var aa=this;this.kI=this.XM=!1;this.lg=this.SB=this.Vr=this.tG=this.HD=this.Vk=null;this.Ek=new b;this.zn=new b;this.ty=!1;this.Oe=this.Ud=this.Vd=this.Ie=null;this.df=[];this.Zy=[];this.cache={};this.timeStamp=0;this.fg=[];this.Wh=[];this.AE=null;this.HM=!1;this.OS=this.id=null;this.hG=this.$O=pa;this.Yg=0;this.zF=!1;this.vQ=1;this.Sh={};this.Bp=0;this.tr=new n;ha.endsWith("/")||(ha+="/");la=la||{};this.XM=la.disableWebsockets||!1;this.kI=
la.singleServerMode||!1;null!=la.customQueryParameters&&Object(e.b)("wvsQueryParameters",la.customQueryParameters);ha.endsWith("blackbox/")||(ha+="blackbox/");this.Vk=la.uploadData||null;this.Vr=la.uriData||null;this.HD=la.cacheKey||null;this.tG=la.officeOptions||null;this.me=ha;this.hE=z;this.zm(!0);this.Qp=(new w.a(ha,null,this.Lg())).J3(!this.XM,function(ca){aa.b9(ca)},function(){return null},function(){aa.ty=!1},function(){aa.$aa()})}x.prototype.L0=function(){var z=this;return new Promise(function(ha,
la){var aa=new XMLHttpRequest;aa.open("GET",z.me+"ck");aa.withCredentials=z.Lg();aa.onreadystatechange=function(){aa.readyState===XMLHttpRequest.DONE&&(200===aa.status?ha():la())};aa.send()})};x.prototype.gca=function(z){this.$O=z||pa;this.hG=pa};x.prototype.M_=function(){this.tS();return this.Qp.In(!0)};x.prototype.tS=function(){Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return this.zn=new b,this.Ek=new b,this.ty=!1,this.id=null,this.HM=
!1,[4,this.L0()];case 1:return z.ea(),[2]}})})};x.prototype.$aa=function(){this.$O();this.tS();this.Ie&&(this.Ie.Nh()?this.qg(this.Ie.request):this.Ie.Sq()&&this.hG(this.Ie.result.url,"pdf")&&(this.Ie=null,this.sS()));this.Oe&&this.Oe.Nh()&&this.qg(this.Oe.request);this.Vd&&this.Vd.Nh()?this.qg(this.Vd.request):this.Ud&&this.Ud.Nh()&&this.OO();var z;for(z=0;z<this.fg.length;z++)this.fg[z]&&(this.fg[z].Nh()?this.qg(this.fg[z].request):this.fg[z].Sq()&&this.hG(this.fg[z].result.url,"image")&&(this.fg[z]=
null,this.aB(Object(fa.uniqueId)(),z)));for(z=0;z<this.Wh.length;z++)this.Wh[z]&&this.Wh[z].Nh()&&!this.Wh[z].l7()&&this.qg(this.Wh[z].request);for(z=0;z<this.df.length;z++)this.df[z]&&this.df[z].Nh()&&this.qg(this.df[z].request)};x.prototype.V6=function(){return this.ty?Promise.resolve():(this.ty=!0,this.timeStamp=Date.now(),this.Qp.Oz())};x.prototype.bea=function(){var z=this,ha,la,aa,ca,ia;return new Promise(function(ea,ma){if(z.Vk)ha=new FormData,ha.append("file",z.Vk.fileHandle,z.Vk.fileHandle.name),
la=z.Vk.loadCallback,ca="upload",aa=z.Vk.extension;else if(z.Vr)ha={uri:z.Vr.uri,Jka:z.Vr.shareId},ha=Object.keys(ha).map(function(ra){return ra+"="+(ha[ra]?encodeURIComponent(ha[ra]):"")}).join("&"),ia="application/x-www-form-urlencoded; charset=UTF-8",la=z.Vr.loadCallback,ca="url",aa=z.Vr.extension;else{ea();return}var na=new XMLHttpRequest,qa=Object(ba.h)(z.me,"AuxUpload");qa=Object(a.a)(qa,{type:ca,ext:aa});na.open("POST",qa);na.withCredentials=z.Lg();ia&&na.setRequestHeader("Content-Type",ia);
na.addEventListener("load",function(){if(na.readyState===na.DONE&&200===na.status){var ra=JSON.parse(na.response);z.hE=ra.uri;la(ra);ea(ra)}});na.addEventListener("error",function(){ma(na.statusText+" "+JSON.stringify(na))});z.Vk&&null!=z.Vk.onProgress&&(na.upload.onprogress=function(ra){z.Vk.onProgress(ra)});na.send(ha)})};x.prototype.Qaa=function(z){this.password=z||null;this.Ek.Sq()||(this.Ek=new b,this.qg({t:"pages"}));return this.Ek.promise};x.prototype.sv=function(z){this.AE=z||null;this.Ek.Sq()||
this.qg({t:"pages"});return this.Ek.promise};x.prototype.rt=function(z){z=Object.assign(z,{uri:encodeURIComponent(this.hE)});this.AE&&(z.ext=this.AE);this.lg&&(z.c=this.lg);this.password&&(z.pswd=this.password);this.HD&&(z.cacheKey=this.HD);this.tG&&(z.officeOptions=this.tG);return z};x.prototype.yba=function(){0<this.tr.length()&&10>=this.Bp&&this.zba(this.tr.pop().data)};x.prototype.o_=function(z){0<this.tr.length()&&this.tr.contains(z)&&this.tr.remove(z)};x.prototype.qg=function(z){z=this.rt(z);
this.Qp.send(z)};x.prototype.JS=function(z,ha){10<this.Bp?this.tr.push(z,ha):(this.Bp++,z=this.rt(ha),this.Qp.send(z))};x.prototype.zba=function(z){this.Bp++;z=this.rt(z);this.Qp.send(z)};x.prototype.Uj=function(z){return z};x.prototype.ZO=function(z){this.kI&&z?Object(da.j)("Server failed health check. Single server mode ignoring check."):!this.Vga&&z&&3>=this.Yg?(this.zF=!0,this.Qp.In()):3<this.Yg&&(this.kI=!0)};x.prototype.b9=function(z){var ha=this,la=z.data,aa=z.err,ca=z.t;switch(ca){case "upload":aa?
this.cea.reject(aa):this.cea.resolve("Success");break;case "pages":aa?this.Ek.reject(aa):ja(la,ca,this.Ek)&&this.Ek.resolve(la);break;case "config":if(aa)this.zn.reject(aa);else if(ja(la,ca,this.zn)){this.ZO(la.unhealthy);la.id&&(this.id=la.id);if(la.auth){var ia=Object(e.a)("wvsQueryParameters");ia.auth=la.auth;Object(e.b)("wvsQueryParameters",ia)}la.serverVersion&&(this.SB=la.serverVersion,Object(da.h)("[WebViewer Server] server version: "+this.SB));la.serverID?(this.Yg=la.serverID===this.OS&&this.zF?
this.Yg+1:0,this.OS=la.serverID):this.Yg=0;this.zF=!1;this.zn.resolve(la)}break;case "health":aa?this.zn.reject(aa):ja(la,ca,this.zn)&&this.ZO(la.unhealthy);break;case "pdf":la.url=Object(a.a)(this.me+"../"+encodeURI(la.url));aa?this.Ie.reject(aa):ja(la,ca,this.Ie)&&this.Ie.resolve(la);break;case "ApString2Xod":la.url=Object(a.a)(this.me+"../data/"+encodeURI(la.url));aa?this.Sh[la.rID].reject(aa):ja(la,ca,this.Sh[la.rID])&&this.Sh[la.rID].resolve(la);break;case "docmod":la.url=Object(a.a)(this.me+
"../"+encodeURI(la.url));aa?this.Sh[la.rID].reject(aa):ja(la,ca,this.Ie)&&this.Sh[la.rID].resolve(la);break;case "xod":if(aa)this.Vd&&this.Vd.Nh()&&this.Vd.reject(aa),this.Ud&&this.Ud.Nh()&&this.Ud.reject(aa);else if(la.notFound)la.noCreate||this.Vd&&this.Vd.Nh()&&this.Vd.resolve(la),this.Ud&&this.Ud.Nh()&&this.Ud.resolve(la);else{la.url&&(la.url=Object(a.a)(this.me+"../"+encodeURI(la.url)));if(!this.Ud||this.Ud.Sq())this.Ud=new b,this.Ud.request={t:"xod",noCreate:!0};this.Vd||(this.Vd=new b,this.Vd.request=
{t:"xod"});this.Ud.resolve(la);this.Vd.resolve(la)}break;case "cAnnots":ia=this.Oe;if(aa)ia.reject(aa);else if(ja(la,ca,ia)){ia.LH();var ea=[],ma=la.annots;la=function(ta){var Ea=ma[ta].s,Ga=ma[ta].e,La=na.me+"../"+encodeURI(ma[ta].xfdf),Pa="true"===ma[ta].hasAppearance?Object(a.a)(La+".xodapp"):null,Fa=Object(fa.range)(Ea,Ga+1);ea[ta]={range:Fa,promise:new Promise(function(Ma,Ta){var Oa=new XMLHttpRequest;Oa.open("GET",Object(a.a)(La));Oa.responseType="text";Oa.withCredentials=ha.Lg();Oa.addEventListener("load",
function(){Oa.readyState===Oa.DONE&&200===Oa.status&&Ma({$o:Oa.response,Mj:Pa,range:Fa})});Oa.addEventListener("error",function(){Ta(Oa.statusText+" "+JSON.stringify(Oa))});Oa.send()})}};var na=this;for(aa=0;aa<ma.length;aa++)la(aa);ia.resolve(ea)}break;case "annots":if(aa)this.Oe.reject(aa);else if(ja(la,ca,this.Oe)){this.Oe.LH();var qa=new XMLHttpRequest;ia=this.me+"../"+encodeURI(la.url);var ra=la.hasAppearance?Object(a.a)(ia+".xodapp"):null;qa.open("GET",Object(a.a)(ia));qa.responseType="text";
qa.withCredentials=this.Lg();qa.addEventListener("load",function(){qa.readyState===qa.DONE&&200===qa.status&&ha.Oe.resolve({$o:qa.response,Mj:ra})});qa.addEventListener("error",function(){ha.Oe.reject(qa.statusText+" "+JSON.stringify(qa))});qa.send()}break;case "image":this.Bp--;var sa=this.fg[la.p];aa?sa.promise.reject(aa):ja(la,ca,sa)&&(sa.result=la,sa.result.url=Object(a.a)(this.me+"../"+encodeURI(sa.result.url)),sa.resolve(sa.result));break;case "tiles":this.Bp--;sa=la.rID;ia=this.df[sa];this.df[sa]=
null;this.Zy.push(sa);if(aa)ia.reject(aa);else if(ja(la,ca,ia)){for(aa=0;aa<la.tiles.length;aa++)la.tiles[aa]=Object(a.a)(this.me+"../"+encodeURI(la.tiles[aa]));ia.resolve(la)}break;case "text":sa=this.Wh[la.p];if(aa)sa.reject(aa);else if(ja(la,ca,sa)){sa.LH();var va=new XMLHttpRequest;la=Object(a.a)(this.me+"../"+encodeURI(la.url));va.open("GET",la);va.withCredentials=this.Lg();va.addEventListener("load",function(){va.readyState===va.DONE&&200===va.status&&(sa.result=JSON.parse(va.response),sa.resolve(sa.result))});
va.addEventListener("error",function(ta){sa.reject(va.statusText+" "+JSON.stringify(ta))});va.send()}break;case "progress":"loading"===la.t&&this.trigger(y.a.Events.DOCUMENT_LOADING_PROGRESS,[la.bytes,la.total])}this.yba();!ca&&z.echo&&z&&"apstring2xod"===z.echo.t&&(z=z.echo.reqID)&&(2<=parseInt(this.SB,10)?this.Sh[z].reject("Message unhandled by server"):this.Sh[z].reject())};x.prototype.r4=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return[4,
this.V6()];case 1:return z.ea(),[2,this.zn.promise]}})})};x.prototype.X3=function(z){for(var ha=this,la=new XMLHttpRequest,aa=Object(a.a)(this.me+"aul",{id:this.id}),ca=new FormData,ia={},ea=0;ea<z.body.length;ea++){var ma=z.body[ea];ia[ma.id]=ma.wD.w+";"+ma.wD.h;ca.append(ma.id,ma.wD.dataString)}z={t:"apstring2xod",reqID:this.vQ++,parts:ia};var na=this.rt(z);ca.append("msg",JSON.stringify(na));this.Sh[na.reqID]=new b;la.open("POST",aa);la.withCredentials=this.Lg;aa=new Promise(function(qa,ra){la.onreadystatechange=
function(){4===la.readyState&&(200===la.status?qa():ra("An error occurred while sending down appearance strings to the server"))}});la.send(ca);return aa.then(function(){return ha.Sh[na.reqID].promise})};x.prototype.O_=function(){var z=this.SB.split("-")[0].split("."),ha=["1","5","9"];if(3!==z.length)throw Error("Invalid WVS version length.");if(3!==ha.length)throw Error("Invalid version length.");for(var la=0;la<z.length;++la){if(ha.length===la||z[la]>ha[la])return-1;if(z[la]!==ha[la])return 1}return 0};
x.prototype.wn=function(){return 0>=this.O_()};x.prototype.JE=function(){this.Oe||(this.Oe=new b,this.wn()?this.Oe.request={t:"cAnnots"}:this.Oe.request={t:"annots"},this.qg(this.Oe.request));return this.Oe.promise};x.prototype.aB=function(z,ha){this.fg[ha]||(this.fg[ha]=new b,this.fg[ha].request={t:"image",p:ha},this.JS(z,this.fg[ha].request));return this.fg[ha].promise};x.prototype.Raa=function(z){this.Wh[z]||(this.Wh[z]=new b,this.Wh[z].request={t:"text",p:z},this.qg(this.Wh[z].request));return this.Wh[z].promise};
x.prototype.Saa=function(z,ha,la,aa,ca){var ia=this.df.length;this.Zy.length&&(ia=this.Zy.pop());this.df[ia]=new b;this.df[ia].request={t:"tiles",p:ha,z:la,r:aa,size:ca,rID:ia};this.JS(z,this.df[ia].request);return this.df[ia].promise};x.prototype.sS=function(){this.Ie||(this.Ie=new b,this.Ie.request={t:"pdf"},this.HM?this.Ie.resolve({url:this.hE}):this.qg(this.Ie.request));return this.Ie.promise};x.prototype.qO=function(z){var ha=this,la=new XMLHttpRequest,aa=Object(a.a)(this.me+"aul",{id:this.id}),
ca=new FormData,ia={};z.annots&&(ia.annots="xfdf");z.watermark&&(ia.watermark="png");z.redactions&&(ia.redactions="redact");ia={t:"docmod",reqID:this.vQ++,parts:ia};z.print&&(ia.print=!0);var ea=this.rt(ia);ca.append("msg",JSON.stringify(ea));return Promise.all([z.annots,z.watermark,z.redactions].map(function(ma){return Promise.resolve(ma)})).then(function(ma){var na=ma[0],qa=ma[1];ma=ma[2];na&&ca.append("annots",na);qa&&ca.append("watermark",qa);ma&&ca.append("redactions",ma);ha.Sh[ea.reqID]=new b;
la.open("POST",aa);la.withCredentials=ha.Lg;na=new Promise(function(ra,sa){la.onreadystatechange=function(){4===la.readyState&&(200===la.status?ra():sa("An error occurred while sending down annotation data to the server"))}});la.send(ca);return na.then(function(){return ha.Sh[ea.reqID].promise})})};x.prototype.OO=function(){this.Ud||(this.Ud=new b,this.Ud.request={t:"xod",noCreate:!0},this.qg(this.Ud.request));return this.Ud.promise};x.prototype.Taa=function(){this.Vd||(this.Vd=new b,this.Vd.request=
{t:"xod"},this.qg(this.Vd.request));return this.Vd.promise};x.prototype.vm=function(){return!0};x.prototype.request=function(){};x.prototype.NR=function(){};x.prototype.abort=function(){for(var z=0;z<this.df.length;z++)this.df[z]&&(this.df[z].resolve(null),this.df[z]=null,this.Zy.push(z));this.close()};x.prototype.kB=function(z){this.lg=this.lg||{};this.lg.headers=z};x.prototype.zm=function(z){this.lg=this.lg||{};this.lg.internal=this.lg.internal||{};this.lg.internal.withCredentials=z};x.prototype.Lg=
function(){return this.lg&&this.lg.internal?this.lg.internal.withCredentials:null};x.prototype.getFileData=function(){return Promise.reject()};return x}();Object(Ca.a)(r);Object(h.a)(r);Object(h.b)(r);ua["default"]=r},414:function(Ca,ua,r){var pa=r(1),ja=r(2),ka=r(32),fa=r(38),da=r(142),ba=r(103),w=function(){function h(e,a,b,n,f,x){void 0===b&&(b=null);void 0===n&&(n=null);void 0===f&&(f=null);void 0===x&&(x=null);this.dQ=!1;this.Yg=0;this.XL=this.tea(e);this.url=a?this.XL+"/"+a:this.XL+"/ws";this.dE=
b;this.Uu=n;this.ot=f;this.uH=x}h.prototype.tea=function(e){var a=e.indexOf("://"),b="ws://";0>a?a=0:(5===a&&(b="wss://"),a+=3);var n=e.lastIndexOf("/");0>n&&(n=e.length);return b+e.slice(a,n)};h.prototype.send=function(e){this.Jm.readyState===WebSocket.CLOSED||this.dQ||this.Jm.send(JSON.stringify(e))};h.prototype.Oz=function(){return Object(pa.b)(this,void 0,void 0,function(){var e,a=this;return Object(pa.d)(this,function(){e=Object(fa.a)("wvsQueryParameters");e.bcid=Object(ka.i)(8);Object(fa.b)("wvsQueryParameters",
e);return[2,new Promise(function(b,n){var f=Object(da.a)(a.url);a.Jm=new WebSocket(f);a.Jm.onopen=function(){a.Uu&&a.Uu();b()};a.Jm.onerror=function(x){a.dQ=!0;n(x)};a.Jm.onclose=function(x){var z=x.code;return Object(pa.b)(a,void 0,void 0,function(){var ha=this;return Object(pa.d)(this,function(la){switch(la.label){case 0:return this.ot&&this.ot(),3E3===z?[3,3]:8>this.Yg++?[4,new Promise(function(aa){return setTimeout(function(){return Object(pa.b)(ha,void 0,void 0,function(){return Object(pa.d)(this,
function(ca){switch(ca.label){case 0:return this.uH(),[4,this.Oz()];case 1:return ca.ea(),aa(),[2]}})})},3E3)})]:[3,2];case 1:return la.ea(),[3,3];case 2:n(ba.a),la.label=3;case 3:return[2]}})})};a.Jm.onmessage=function(x){x&&x.data&&(x=JSON.parse(x.data),x.hb?a.send({hb:!0}):x.end?close():a.dE(x))}})]})})};h.prototype.In=function(e){void 0===e&&(e=!1);this.Yg=0;e?this.Jm.close(3E3):this.Jm.close();return Promise.resolve()};return h}(),y=function(){function h(e,a,b,n,f,x,z){void 0===n&&(n=null);void 0===
f&&(f=null);void 0===x&&(x=null);void 0===z&&(z=null);this.Yg=this.$A=this.id=0;this.ju=!1;this.request=null;e=this.u$(e);this.url=a?e+"/"+a+"pf":e+"/pf";this.MB=b;this.dE=n;this.Uu=f;this.ot=x;this.uH=z}h.prototype.u$=function(e){var a=e.lastIndexOf("/");0>a&&(a=e.length);return e.slice(0,a)};h.prototype.w0=function(e){e=e.split("\n");for(e[e.length-1]&&e.pop();0<e.length&&3>e[e.length-1].length;)"]"===e.pop()&&(this.id=0);0<e.length&&3>e[0].length&&e.shift();for(var a=0;a<e.length;++a)e[a].endsWith(",")&&
(e[a]=e[a].substr(0,e[a].length-1));return e};h.prototype.BS=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(a){switch(a.label){case 0:return 8>this.Yg++?[4,new Promise(function(b){return setTimeout(function(){e.uH();e.Oz();b()},3E3)})]:[3,2];case 1:a.ea(),a.label=2;case 2:return[2]}})})};h.prototype.w$=function(e){Object(pa.b)(this,void 0,void 0,function(){var a,b;return Object(pa.d)(this,function(n){switch(n.label){case 0:a=null,b=0,n.label=
1;case 1:if(!(b<e.length))return[3,6];a=JSON.parse(e[b]);if(!a)return[3,5];if(!a.end)return[3,2];close();return[3,5];case 2:if(!a.id||Number(a.id)===this.id)return[3,4];Object(ja.j)("Reconnecting, new server detected");this.In();return[4,this.BS()];case 3:return n.ea(),[3,5];case 4:a.hb&&Number(a.id)===this.id?this.send({hb:!0}):this.ju||this.dE(a),n.label=5;case 5:return++b,[3,1];case 6:return[2]}})})};h.prototype.Y8=function(e){Object(pa.b)(this,void 0,void 0,function(){var a,b,n;return Object(pa.d)(this,
function(f){switch(f.label){case 0:if(!(3<=e.readyState))return[3,2];try{a=e.responseText.length}catch(x){return Object(ja.h)("caught exception"),[2]}if(0<a)try{b=this.w0(e.responseText),0===this.id&&0<b.length&&(n=JSON.parse(b.shift()),this.id=n.id,this.Yg=0),this.w$(b)}catch(x){}return this.ju?[3,2]:[4,this.zN()];case 1:f.ea(),f.label=2;case 2:return[2]}})})};h.prototype.zN=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(){return[2,new Promise(function(a,
b){function n(){return Object(pa.b)(e,void 0,void 0,function(){return Object(pa.d)(this,function(x){switch(x.label){case 0:b(),this.In(),x.label=1;case 1:return this.ju&&8>this.Yg?[4,this.BS()]:[3,3];case 2:return x.ea(),[3,1];case 3:return[2]}})})}e.request=new XMLHttpRequest;e.request.withCredentials=e.MB;var f=Object(da.a)(e.url,0!==e.id?{id:String(e.id),uc:String(e.$A)}:{uc:String(e.$A)});e.$A++;e.request.open("GET",f,!0);e.request.setRequestHeader("Cache-Control","no-cache");e.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");e.request.onreadystatechange=function(){e.Y8(e.request)};e.request.addEventListener("error",n);e.request.addEventListener("timeout",n);e.request.addEventListener("load",function(){e.Uu&&e.Uu();a()});e.request.send()})]})})};h.prototype.Oz=function(){var e=Object(fa.a)("wvsQueryParameters");e.bcid=Object(ka.i)(8);Object(fa.b)("wvsQueryParameters",e);this.$A=this.id=0;this.ju=!1;return this.zN()};h.prototype.send=function(e){var a=this,b=new XMLHttpRequest;b.withCredentials=this.MB;
var n=Object(da.a)(this.url,{id:String(this.id)}),f=new FormData;f.append("data",JSON.stringify(e));b.addEventListener("error",function(){a.In()});b.open("POST",n);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(f)};h.prototype.In=function(){this.id=0;this.ju=!0;this.ot&&this.ot();this.request.abort();return Promise.resolve()};return h}();Ca=function(){function h(e,a,b){this.sM=e;this.target=a;this.MB=b}h.prototype.J3=function(e,a,b,n,f){void 0===e&&(e=!0);void 0===a&&(a=null);void 0===
b&&(b=null);void 0===n&&(n=null);void 0===f&&(f=null);return e?new w(this.sM,this.target,a,b,n,f):new y(this.sM,this.target,this.MB,a,b,n,f)};return h}();ua.a=Ca}}]);}).call(this || window)
